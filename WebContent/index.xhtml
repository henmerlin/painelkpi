<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/recursos/template/template.xhtml">

	<ui:define name="tituloPrincipal">Histórico dos Indicadores</ui:define>
	<ui:define name="tituloSecundario">Centro de Operações</ui:define>
	<ui:define name="botoesAcao"></ui:define>
	<ui:define name="conteudo">

		<ui:repeat var="frente" value="#{frenteBean.listar()}">

			<p:fieldset legend="#{frente.nome}">

				<ui:repeat var="area" value="#{frente.areas}">

					<p:fieldset legend="#{area.nome}" style="margin-top: 15px;">

						<p:dataTable var="kpi" value="#{area.kpis}">

							<p:columnGroup type="header">
								<p:row>
									<p:column rowspan="#{area.kpis.size()}" colspan="10"
										headerText="#{area.nome}" />
								</p:row>

								<ui:repeat var="kpi" value="#{area.kpis}">
									<p:row>
										<p:column headerText="" />
										<ui:repeat var="resultado" value="#{kpi.resultados}">
											<p:column headerText="#{resultado.periodo.month+1}/#{resultado.periodo.year + 1900}" />
										</ui:repeat>
									</p:row>
									
									<p:column headerText="#{kpi.nome}" />
										<ui:repeat var="resultado" value="#{kpi.resultados}">
											<p:column headerText="#{resultado.valor}" />
										</ui:repeat>									
								</ui:repeat>


							</p:columnGroup>



						</p:dataTable>

					</p:fieldset>

				</ui:repeat>

			</p:fieldset>
		</ui:repeat>














	</ui:define>

</ui:composition>

</html>